{"ast":null,"code":"var _jsxFileName = \"/Users/imac/Desktop/FinalProject/frontend/src/components/Login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from \"react-redux\";\nimport { authActions } from '../../store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useNavigate();\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  const sendRequest = async () => {\n    const res = await axios.post(\"http://localhost:5000/api/login\", {\n      email: inputs.email,\n      password: inputs.password\n    }).catch(err => console.log(err));\n    const data = await res.data;\n    return data;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(inputs); //send http request\n\n    sendRequest().then(() => dispatch(authActions.login)).then(() => history('/user'));\n  };\n\n  const handleChange = e => {\n    setInputs(prev => ({ ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"form-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"email\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              onChange: handleChange,\n              value: inputs.email,\n              type: \"email\",\n              placeholder: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"password\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"password\",\n              onChange: handleChange,\n              value: inputs.password,\n              type: \"password\",\n              placeholder: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 6\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(\"aside\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 2\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"NNy2xfokQ7PmyC0nOFA70IAJYz4=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","React","useState","useNavigate","useDispatch","authActions","Login","dispatch","history","inputs","setInputs","email","password","sendRequest","res","post","catch","err","console","log","data","handleSubmit","e","preventDefault","then","login","handleChange","prev","target","name","value"],"sources":["/Users/imac/Desktop/FinalProject/frontend/src/components/Login/Login.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport {useDispatch} from \"react-redux\"\nimport { authActions } from '../../store';\n\n\nconst Login = () => {\n    const dispatch=useDispatch(); \n    const history=useNavigate();\n    const [inputs,setInputs]=useState({\n        email:\"\",\n        password:\"\"\n    })\n    const sendRequest=async()=>{\n        const res=await axios.post(\"http://localhost:5000/api/login\",{\n            email:inputs.email, \n            password:inputs.password\n        }).catch(err=>console.log(err));\n        const data=await res.data;\n        return data;\n    }\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        console.log(inputs);\n        //send http request\n        sendRequest().then(()=>dispatch(authActions.login)).then(()=>history('/user'))\n    }\n    const handleChange=(e)=>{\n        setInputs(prev=>({\n            ...prev,\n            [e.target.name]:e.target.value\n        }))\n    }\n  return (\n    <div id=\"app\">\n\t<section class=\"form-container\">\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<h1>Login</h1>\n\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"email\">\n\t\t\t\t\t<input name='email' onChange={handleChange} value={inputs.email} type=\"email\" placeholder=\"email\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"password\">\n\t\t\t\t\t<input name='password' onChange={handleChange} value={inputs.password} type=\"password\" placeholder=\"password\" />\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\n\t\t\t<button type='submit'>Submit</button>\n\t\t</form>\n\t</section>\n\t<aside></aside>\n</div>\n  )\n}\n\nexport default Login\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAGA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAChB,MAAMC,QAAQ,GAACH,WAAW,EAA1B;EACA,MAAMI,OAAO,GAACL,WAAW,EAAzB;EACA,MAAM,CAACM,MAAD,EAAQC,SAAR,IAAmBR,QAAQ,CAAC;IAC9BS,KAAK,EAAC,EADwB;IAE9BC,QAAQ,EAAC;EAFqB,CAAD,CAAjC;;EAIA,MAAMC,WAAW,GAAC,YAAS;IACvB,MAAMC,GAAG,GAAC,MAAMd,KAAK,CAACe,IAAN,CAAW,iCAAX,EAA6C;MACzDJ,KAAK,EAACF,MAAM,CAACE,KAD4C;MAEzDC,QAAQ,EAACH,MAAM,CAACG;IAFyC,CAA7C,EAGbI,KAHa,CAGPC,GAAG,IAAEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHE,CAAhB;IAIA,MAAMG,IAAI,GAAC,MAAMN,GAAG,CAACM,IAArB;IACA,OAAOA,IAAP;EACH,CAPD;;EAQA,MAAMC,YAAY,GAAEC,CAAD,IAAK;IACpBA,CAAC,CAACC,cAAF;IACAL,OAAO,CAACC,GAAR,CAAYV,MAAZ,EAFoB,CAGpB;;IACAI,WAAW,GAAGW,IAAd,CAAmB,MAAIjB,QAAQ,CAACF,WAAW,CAACoB,KAAb,CAA/B,EAAoDD,IAApD,CAAyD,MAAIhB,OAAO,CAAC,OAAD,CAApE;EACH,CALD;;EAMA,MAAMkB,YAAY,GAAEJ,CAAD,IAAK;IACpBZ,SAAS,CAACiB,IAAI,KAAG,EACb,GAAGA,IADU;MAEb,CAACL,CAAC,CAACM,MAAF,CAASC,IAAV,GAAgBP,CAAC,CAACM,MAAF,CAASE;IAFZ,CAAH,CAAL,CAAT;EAIH,CALD;;EAMF,oBACE;IAAK,EAAE,EAAC,KAAR;IAAA,wBACH;MAAS,KAAK,EAAC,gBAAf;MAAA,uBACC;QAAM,QAAQ,EAAET,YAAhB;QAAA,wBACC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,eAGC;UAAA,wBACC;YAAK,KAAK,EAAC,OAAX;YAAA,uBACC;cAAO,IAAI,EAAC,OAAZ;cAAoB,QAAQ,EAAEK,YAA9B;cAA4C,KAAK,EAAEjB,MAAM,CAACE,KAA1D;cAAiE,IAAI,EAAC,OAAtE;cAA8E,WAAW,EAAC;YAA1F;cAAA;cAAA;cAAA;YAAA;UADD;YAAA;YAAA;YAAA;UAAA,QADD,eAIC;YAAK,KAAK,EAAC,UAAX;YAAA,uBACC;cAAO,IAAI,EAAC,UAAZ;cAAuB,QAAQ,EAAEe,YAAjC;cAA+C,KAAK,EAAEjB,MAAM,CAACG,QAA7D;cAAuE,IAAI,EAAC,UAA5E;cAAuF,WAAW,EAAC;YAAnG;cAAA;cAAA;cAAA;YAAA;UADD;YAAA;YAAA;YAAA;UAAA,QAJD;QAAA;UAAA;UAAA;UAAA;QAAA,QAHD,eAYC;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAZD;MAAA;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QADG,eAiBH;MAAA;MAAA;MAAA;IAAA,QAjBG;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD,CAhDD;;GAAMN,K;UACaF,W,EACDD,W;;;KAFZG,K;AAkDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}